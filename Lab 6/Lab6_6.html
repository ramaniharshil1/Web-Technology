<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body {
      font-family: Arial, sans-serif;
    }

    form {
      border: 3px solid #f1f1f1;
      max-width: 300px;
      margin: 0 auto;
      padding: 20px;
    }

    input[type="text"],
    input[type="password"] {
      width: 100%;
      padding: 12px 20px;
      margin: 8px 0;
      display: inline-block;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }

    button {
      background-color: #04aa6d;
      color: white;
      padding: 14px 20px;
      margin: 8px 0;
      border: none;
      cursor: pointer;
      width: 100%;
    }
  </style>
</head>

<body>
  
    <b>Student Registration Form</b>
    <br />
    <br />
    <label for="uname"><b>Name</b></label>
    <input type="text" placeholder="Enter Username" id="username" required />

    <label for="psw"><b>Enrollment Number</b></label>
    <input type="text" placeholder="Enter Enrollment Number" id="enrollment" required />

    <label for="psw"><b>E-Mail</b></label>
    <input type="text" placeholder="Enter E-Mail" id="email" required />
    <br />

    <label for="psw"><b>Date Of Birth</b></label>
    <input type="date" placeholder="Enter Age" id="dob" required />
    <br />
    

    <button type="submit">Register</button>

    <label>
      <input type="checkbox" checked="checked" name="remember" /> Remember me
    </label>
    <script>
      const usernameInput = document.getElementById('username');
      const passwordInput = document.getElementById('password');
      const repeatPasswordInput = document.getElementById('repeat-password');
      const dobInput = document.getElementById('dob');
      const enrollmentInput = document.getElementById('enrollment');
      const emailInput = document.getElementById('email');

      function validateForm() {
        const username = usernameInput.value;
        const password = passwordInput.value;
        const repeatPassword = repeatPasswordInput.value;
        const dob = new Date(dobInput.value);
        const enrollment = enrollmentInput.value;
        const email = emailInput.value;



        if (username.length < 8) {
          alert('Username must be at least 8 characters.');
          return false;
        }

        const passwordRegex = /^(?=.\d)(?=.[!@#$%^&])[A-Za-z\d!@#$%^&]{8,12}$/;
        if (!passwordRegex.test(password)) {
          alert('Password must contain at least 1 digit, 1 special character, and be 8-12 characters long.');
          return false;
        }

        if (password !== repeatPassword) {
          alert('Passwords do not match.');
          return false;
        }

        const today = new Date();
        const age = today.getFullYear() - dob.getFullYear();
        if (age < 18) {
          alert('You must be at least 18 years old.');
          return false;
        }

        if (enrollment.length !== 11) {
          alert('Enrollment must be exactly 11 digits.');
          return false;
        }

        const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
        if (!emailRegex.test(email)) {
          alert('Invalid email address.');
          return false;
        }

        alert('Form data is valid!');
        return true;
      }


      function calcAge() {
        let DOB = document.getElementById('dob').value;
        DOB = new Date(DOB);

        let today = new Date();

        let age = today.getFullYear() - DOB.getFullYear();
        let monthDiff = today.getMonth() - DOB.getMonth();

        if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < DOB.getDate())) {
          age--;
        }
      }

      console.log(age);
      return age;
      
    </script>
</body>
</html>